import{D as e,G as t,K as n,O as r,P as i,R as a,V as o,W as s,Y as c,Z as l,et as u,it as d,n as f,nt as p,q as m,r as h,rt as g,y as _}from"./index-DONMULiq.js";var v={class:`auth-card`},y={class:`form-options`},b=f(m({__name:`RegisterView`,setup(f){let m=_(),b=h(),x=g(),S=p({username:``,email:``,password:``,confirmPassword:``,agree:!1}),C={username:[{required:!0,message:`请输入用户名`,trigger:`blur`},{min:3,max:20,message:`用户名长度应在 3-20 个字符之间`,trigger:`blur`},{pattern:/^[a-zA-Z0-9_]+$/,message:`用户名只能包含字母、数字和下划线`,trigger:`blur`}],email:[{required:!0,message:`请输入邮箱`,trigger:`blur`},{type:`email`,message:`请输入正确的邮箱格式`,trigger:`blur`}],password:[{required:!0,validator:(e,t,n)=>{if(t===``)n(Error(`请输入密码`));else{if(S.confirmPassword!==``){if(!x.value)return;x.value.validateField(`confirmPassword`)}n()}},trigger:`blur`},{min:6,max:20,message:`密码长度应在 6-20 个字符之间`,trigger:`blur`}],confirmPassword:[{required:!0,validator:(e,t,n)=>{t===``?n(Error(`请再次输入密码`)):t===S.password?n():n(Error(`两次输入的密码不一致！`))},trigger:`blur`}],agree:[{validator:(e,t,n)=>{t?n():n(Error(`请同意服务条款和隐私政策`))},trigger:`change`}]},w=async()=>{if(x.value)try{if(!await x.value.validate())return;await b.register({username:S.username,email:S.email,password:S.password})&&m.push(`/login`)}catch(e){console.error(`注册验证失败:`,e)}};return(f,p)=>{let m=l(`el-input`),h=l(`el-form-item`),g=l(`el-link`),_=l(`el-checkbox`),T=l(`el-button`),E=l(`el-form`);return c(),s(`div`,v,[p[12]||=o(`div`,{class:`auth-header`},[o(`div`,{class:`auth-logo`},`C`),o(`h2`,null,`注册账号`),o(`p`,{class:`subtitle`},`加入 Cornerstone 数据平台`)],-1),n(E,{ref_key:`formRef`,ref:x,model:S,rules:C,loading:d(b).loading,class:`auth-form`,onSubmit:a(w,[`prevent`])},{default:u(()=>[n(h,{prop:`username`,label:`用户名`},{default:u(()=>[n(m,{modelValue:S.username,"onUpdate:modelValue":p[0]||=e=>S.username=e,placeholder:`请输入用户名`,size:`large`,"prefix-icon":d(i)},null,8,[`modelValue`,`prefix-icon`])]),_:1}),n(h,{prop:`email`,label:`邮箱`},{default:u(()=>[n(m,{modelValue:S.email,"onUpdate:modelValue":p[1]||=e=>S.email=e,placeholder:`请输入邮箱`,size:`large`,"prefix-icon":d(r)},null,8,[`modelValue`,`prefix-icon`])]),_:1}),n(h,{prop:`password`,label:`密码`},{default:u(()=>[n(m,{modelValue:S.password,"onUpdate:modelValue":p[2]||=e=>S.password=e,type:`password`,placeholder:`请输入密码`,size:`large`,"prefix-icon":d(e),"show-password":``},null,8,[`modelValue`,`prefix-icon`])]),_:1}),n(h,{prop:`confirmPassword`,label:`确认密码`},{default:u(()=>[n(m,{modelValue:S.confirmPassword,"onUpdate:modelValue":p[3]||=e=>S.confirmPassword=e,type:`password`,placeholder:`请再次输入密码`,size:`large`,"prefix-icon":d(e),"show-password":``},null,8,[`modelValue`,`prefix-icon`])]),_:1}),n(h,null,{default:u(()=>[o(`div`,y,[n(_,{modelValue:S.agree,"onUpdate:modelValue":p[4]||=e=>S.agree=e},{default:u(()=>[p[8]||=t(` 我已阅读并同意 `,-1),n(g,{type:`primary`,underline:!1},{default:u(()=>[...p[6]||=[t(`服务条款`,-1)]]),_:1}),p[9]||=t(` 和 `,-1),n(g,{type:`primary`,underline:!1},{default:u(()=>[...p[7]||=[t(`隐私政策`,-1)]]),_:1})]),_:1},8,[`modelValue`]),n(g,{type:`primary`,onClick:p[5]||=e=>f.$router.push(`/login`)},{default:u(()=>[...p[10]||=[t(` 已有账号？立即登录 `,-1)]]),_:1})])]),_:1}),n(h,null,{default:u(()=>[n(T,{type:`primary`,size:`large`,"native-type":`submit`,loading:d(b).loading,class:`submit-btn`},{default:u(()=>[...p[11]||=[t(` 注册 `,-1)]]),_:1},8,[`loading`])]),_:1})]),_:1},8,[`model`,`loading`])])}}}),[[`__scopeId`,`data-v-7e48cce4`]]);export{b as default};