import{D as e,G as t,K as n,L as r,P as i,R as a,V as o,W as s,Y as c,Z as l,et as u,it as d,n as f,nt as p,q as m,r as h,rt as g,y as _}from"./index-DONMULiq.js";var v={class:`auth-card`},y={class:`form-options`},b=f(m({__name:`LoginView`,setup(f){let m=_(),b=h(),x=g(),S=p({username:``,password:``,remember:!0}),C={username:[{required:!0,message:`请输入用户名`,trigger:`blur`},{min:3,max:20,message:`用户名长度应在 3-20 个字符之间`,trigger:`blur`}],password:[{required:!0,message:`请输入密码`,trigger:`blur`},{min:6,max:20,message:`密码长度应在 6-20 个字符之间`,trigger:`blur`}]},w=async()=>{if(x.value)try{if(!await x.value.validate())return;if(await b.login(S.username,S.password)){let e=m.currentRoute.value.query.redirect;m.push(e||`/`)}}catch(e){console.error(`登录验证失败:`,e)}};return(f,p)=>{let m=l(`el-input`),h=l(`el-form-item`),g=l(`el-checkbox`),_=l(`el-link`),T=l(`el-button`),E=l(`el-form`);return c(),s(`div`,v,[p[7]||=o(`div`,{class:`auth-header`},[o(`div`,{class:`auth-logo`},`C`),o(`h2`,null,`登录`),o(`p`,{class:`subtitle`},`欢迎回到 Cornerstone 数据平台`)],-1),n(E,{ref_key:`formRef`,ref:x,model:S,rules:C,loading:d(b).loading,class:`auth-form`,onSubmit:a(w,[`prevent`])},{default:u(()=>[n(h,{prop:`username`,label:`用户名`},{default:u(()=>[n(m,{modelValue:S.username,"onUpdate:modelValue":p[0]||=e=>S.username=e,placeholder:`请输入用户名`,size:`large`,"prefix-icon":d(i),onKeyup:r(w,[`enter`])},null,8,[`modelValue`,`prefix-icon`])]),_:1}),n(h,{prop:`password`,label:`密码`},{default:u(()=>[n(m,{modelValue:S.password,"onUpdate:modelValue":p[1]||=e=>S.password=e,type:`password`,placeholder:`请输入密码`,size:`large`,"prefix-icon":d(e),"show-password":``,onKeyup:r(w,[`enter`])},null,8,[`modelValue`,`prefix-icon`])]),_:1}),n(h,null,{default:u(()=>[o(`div`,y,[n(g,{modelValue:S.remember,"onUpdate:modelValue":p[2]||=e=>S.remember=e},{default:u(()=>[...p[4]||=[t(`记住我`,-1)]]),_:1},8,[`modelValue`]),n(_,{type:`primary`,onClick:p[3]||=e=>f.$router.push(`/register`)},{default:u(()=>[...p[5]||=[t(` 没有账号？立即注册 `,-1)]]),_:1})])]),_:1}),n(h,null,{default:u(()=>[n(T,{type:`primary`,size:`large`,"native-type":`submit`,loading:d(b).loading,class:`submit-btn`},{default:u(()=>[...p[6]||=[t(` 登录 `,-1)]]),_:1},8,[`loading`])]),_:1})]),_:1},8,[`model`,`loading`])])}}}),[[`__scopeId`,`data-v-08b745b8`]]);export{b as default};