import{A as e,C as t,G as n,H as r,J as i,K as a,P as o,V as s,W as c,X as l,Y as u,Z as d,at as f,et as p,h as m,it as h,k as g,n as _,ot as v,q as y,rt as b,w as x,x as S,z as C}from"./index-DONMULiq.js";import{r as w}from"./format-BwLcG6eA.js";var T={class:`dashboard`},E={class:`stat-content`},D={class:`stat-icon stat-icon--sky`},O={class:`stat-info`},k={class:`stat-value`},A={class:`stat-content`},j={class:`stat-icon stat-icon--teal`},M={class:`stat-info`},N={class:`stat-value`},P={class:`stat-content`},F={class:`stat-icon stat-icon--amber`},I={class:`stat-info`},L={class:`stat-value`},R={class:`stat-content`},z={class:`stat-icon stat-icon--rose`},B={class:`stat-info`},V={class:`stat-value`},H={class:`quick-actions`},U={class:`action-content`},W={class:`action-content`},G={class:`action-content`},K={class:`recent-activity`},q=_(y({__name:`DashboardView`,setup(_){let v=b({users:0,organizations:0,databases:0,plugins:0}),y=b([]),q=async()=>{try{v.value=(await m.getSummary()).data||{users:0,organizations:0,databases:0,plugins:0}}catch(e){console.error(`Failed to load stats:`,e),S.error(`加载统计数据失败`)}},J=async()=>{try{y.value=((await m.getActivities(10)).data||[]).map(e=>({content:e.content,time:w(e.time),type:e.type||`primary`}))}catch(e){console.error(`Failed to load activities:`,e),y.value=[]}};return i(()=>{q(),J()}),(i,m)=>{let _=d(`el-card`),b=d(`el-col`),S=d(`el-row`),w=d(`el-icon`),q=d(`el-empty`),J=d(`el-timeline-item`),Y=d(`el-timeline`);return u(),c(`div`,T,[m[12]||=s(`div`,{class:`content-header`},[s(`p`,{class:`description`},`欢迎使用 Cornerstone 数据平台`)],-1),a(S,{gutter:20,class:`stats-row`},{default:p(()=>[a(b,{xs:24,sm:12,md:6},{default:p(()=>[a(_,{class:`stat-card`,shadow:`hover`},{default:p(()=>[s(`div`,E,[s(`div`,D,[a(h(o))]),s(`div`,O,[s(`div`,k,f(v.value.users),1),m[3]||=s(`div`,{class:`stat-label`},`总用户数`,-1)])])]),_:1})]),_:1}),a(b,{xs:24,sm:12,md:6},{default:p(()=>[a(_,{class:`stat-card`,shadow:`hover`},{default:p(()=>[s(`div`,A,[s(`div`,j,[a(h(g))]),s(`div`,M,[s(`div`,N,f(v.value.organizations),1),m[4]||=s(`div`,{class:`stat-label`},`组织数量`,-1)])])]),_:1})]),_:1}),a(b,{xs:24,sm:12,md:6},{default:p(()=>[a(_,{class:`stat-card`,shadow:`hover`},{default:p(()=>[s(`div`,P,[s(`div`,F,[a(h(x))]),s(`div`,I,[s(`div`,L,f(v.value.databases),1),m[5]||=s(`div`,{class:`stat-label`},`数据库数量`,-1)])])]),_:1})]),_:1}),a(b,{xs:24,sm:12,md:6},{default:p(()=>[a(_,{class:`stat-card`,shadow:`hover`},{default:p(()=>[s(`div`,R,[s(`div`,z,[a(h(t))]),s(`div`,B,[s(`div`,V,f(v.value.plugins),1),m[6]||=s(`div`,{class:`stat-label`},`插件数量`,-1)])])]),_:1})]),_:1})]),_:1}),s(`div`,H,[m[10]||=s(`h3`,null,`快捷操作`,-1),a(S,{gutter:20},{default:p(()=>[a(b,{xs:24,sm:12,md:8},{default:p(()=>[a(_,{class:`action-card`,onClick:m[0]||=e=>i.$router.push(`/organizations`)},{default:p(()=>[s(`div`,U,[a(w,null,{default:p(()=>[a(h(e))]),_:1}),m[7]||=s(`span`,null,`创建组织`,-1)])]),_:1})]),_:1}),a(b,{xs:24,sm:12,md:8},{default:p(()=>[a(_,{class:`action-card`,onClick:m[1]||=e=>i.$router.push(`/databases`)},{default:p(()=>[s(`div`,W,[a(w,null,{default:p(()=>[a(h(e))]),_:1}),m[8]||=s(`span`,null,`新建数据库`,-1)])]),_:1})]),_:1}),a(b,{xs:24,sm:12,md:8},{default:p(()=>[a(_,{class:`action-card`,onClick:m[2]||=e=>i.$router.push(`/plugins`)},{default:p(()=>[s(`div`,G,[a(w,null,{default:p(()=>[a(h(e))]),_:1}),m[9]||=s(`span`,null,`安装插件`,-1)])]),_:1})]),_:1})]),_:1})]),s(`div`,K,[m[11]||=s(`h3`,null,`最近活动`,-1),y.value.length===0?(u(),r(q,{key:0,description:`暂无活动记录`})):(u(),r(Y,{key:1},{default:p(()=>[(u(!0),c(C,null,l(y.value,(e,t)=>(u(),r(J,{key:t,type:e.type,timestamp:e.time},{default:p(()=>[n(f(e.content),1)]),_:2},1032,[`type`,`timestamp`]))),128))]),_:1}))])])}}}),[[`__scopeId`,`data-v-59d0d114`]]);export{q as default};